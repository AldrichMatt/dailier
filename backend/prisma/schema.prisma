generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model users {
  id         Int      @id @default(autoincrement())
  email      String   @unique
  username   String   @unique
  password   String
  created_at DateTime
  updated_at DateTime @default(now())
  badges     badges[]
  habits     habits[]
}

model habits {
  id             Int              @id @default(autoincrement())
  user_id        Int              @map("user_id")
  title          String
  description    String?
  time           String           @default("08:00")
  frequency      frequency        @default(DAILY)
  created_at     DateTime
  updated_at     DateTime         @default(now())
  habit_checkins habit_checkins[]
  user           users            @relation(fields: [user_id], references: [id])
}

model habit_checkins {
  id               Int      @id @default(autoincrement())
  habit_id         Int      @map("habit_id")
  checkin_datetime DateTime @default(now())
  completed        Boolean  @default(false)
  habit            habits   @relation(fields: [habit_id], references: [id])
}

model badges {
  id        Int      @id @default(autoincrement())
  user_id   Int      @map("user_id")
  name      String
  earned_at DateTime @default(now())
  image     String
  user      users    @relation(fields: [user_id], references: [id])
}

enum frequency {
  DAILY
  WEEKLY
  MONTHLY
  YEARLY
}